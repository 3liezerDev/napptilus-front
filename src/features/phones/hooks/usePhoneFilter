import { useState, useEffect } from "react";
import { useDebounce } from "./useDebounce"; // âœ… Importamos debounce
import { getPhones } from "../services/phonesApi"; // âœ… Importamos la API

export const usePhoneFilter = (onSearch) => {
  const [query, setQuery] = useState("");
  const debouncedQuery = useDebounce(query, 650); // â³ Espera 650ms antes de ejecutar la bÃºsqueda

  useEffect(() => {
    const fetchPhones = async () => {
      if (debouncedQuery.length >= 3) {
        onSearch(debouncedQuery); // ğŸ” Busca si hay 3+ caracteres
      } 
    };

    fetchPhones();
  }, [debouncedQuery, onSearch]);

  return { query, setQuery };
};
